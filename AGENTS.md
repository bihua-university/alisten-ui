# ğŸµ Alisten å¬æ­Œæˆ¿

> ä¸€ä¸ªç°ä»£åŒ–çš„åœ¨çº¿å¬æ­Œæˆ¿åº”ç”¨ï¼ŒåŸºäº Vue3 + TypeScript + Vite + TailwindCSS æ„å»ºã€‚

---

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

Alisten å¬æ­Œæˆ¿æ˜¯ä¸€ä¸ªå®æ—¶åœ¨çº¿éŸ³ä¹å…±äº«å¹³å°ï¼Œå…è®¸å¤šäººåŒæ—¶åœ¨ä¸€ä¸ªè™šæ‹Ÿæˆ¿é—´ä¸­å…±åŒå¬æ­Œã€ç‚¹æ­Œå’ŒèŠå¤©ã€‚é¡¹ç›®é‡‡ç”¨ç°ä»£åŒ–çš„ Glass UI è®¾è®¡é£æ ¼ï¼Œæ”¯æŒæ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯çš„å“åº”å¼å¸ƒå±€ã€‚

### æ ¸å¿ƒåŠŸèƒ½

- ğŸµ **å®æ—¶éŸ³ä¹åŒæ­¥** - æˆ¿é—´å†…æ‰€æœ‰ç”¨æˆ·åŒæ­¥æ’­æ”¾ç›¸åŒçš„éŸ³ä¹
- ğŸ“ **æ­Œè¯åŒæ­¥æ˜¾ç¤º** - é€è¡Œé«˜äº®æ˜¾ç¤ºå½“å‰æ’­æ”¾æ­Œè¯
- ğŸ’¬ **å®æ—¶èŠå¤©** - æˆ¿é—´å†…ç”¨æˆ·å¯ä»¥å®æ—¶äº¤æµ
- ğŸ¤ **ç‚¹æ­ŒåŠŸèƒ½** - æ”¯æŒæœç´¢å’Œç‚¹æ’­æ­Œæ›²
- ğŸ‘¥ **åœ¨çº¿ç”¨æˆ·** - æŸ¥çœ‹å½“å‰æˆ¿é—´åœ¨çº¿ç”¨æˆ·åˆ—è¡¨
- ğŸ“± **è·¨å¹³å°æ”¯æŒ** - æ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯å®Œæ•´ä½“éªŒ
- ğŸ”” **PWA æ”¯æŒ** - å¯å®‰è£…ä¸ºæœ¬åœ°åº”ç”¨

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æŠ€æœ¯æ ˆ

| ç±»åˆ« | æŠ€æœ¯ |
|------|------|
| å‰ç«¯æ¡†æ¶ | Vue 3.4+ (Composition API) |
| å¼€å‘è¯­è¨€ | TypeScript 5.3+ |
| æ„å»ºå·¥å…· | Vite 5.0+ |
| CSS æ¡†æ¶ | TailwindCSS 3.4+ |
| å›¾æ ‡åº“ | Lucide Vue Next |
| çŠ¶æ€ç®¡ç† | Pinia |
| å·¥å…·åº“ | VueUse |
| PWA | Vite Plugin PWA + Workbox |

### é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ components/           # ç»„ä»¶ç›®å½•
â”‚   â”œâ”€â”€ layout/          # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â””â”€â”€ MainLayout.vue    # ä¸»å¸ƒå±€ï¼ˆæ¡Œé¢ç«¯+ç§»åŠ¨ç«¯ï¼‰
â”‚   â”œâ”€â”€ common/          # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Avatar.vue        # ç”¨æˆ·å¤´åƒ
â”‚   â”‚   â”œâ”€â”€ Modal.vue         # æ¨¡æ€æ¡†åŸºç¡€ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ MusicItem.vue     # éŸ³ä¹é¡¹ç»„ä»¶
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ MusicSearchModal.vue  # ç‚¹æ­Œå°æ¨¡æ€æ¡†
â”‚   â”œâ”€â”€ SettingsModal.vue     # è®¾ç½®æ¨¡æ€æ¡†
â”‚   â”œâ”€â”€ HelpModal.vue         # å¸®åŠ©æ¨¡æ€æ¡†
â”‚   â”œâ”€â”€ PlayHistoryModal.vue  # æ’­æ”¾å†å²æ¨¡æ€æ¡†
â”‚   â”œâ”€â”€ PlaylistItem.vue      # æ’­æ”¾åˆ—è¡¨é¡¹
â”‚   â”œâ”€â”€ VolumeSlider.vue      # éŸ³é‡æ§åˆ¶æ»‘å—
â”‚   â”œâ”€â”€ ImmersiveMode.vue     # æ²‰æµ¸æ¨¡å¼
â”‚   â””â”€â”€ ...
â”œâ”€â”€ composables/         # ç»„åˆå¼å‡½æ•°
â”‚   â”œâ”€â”€ useWebSocket.ts      # WebSocket è¿æ¥ç®¡ç†
â”‚   â”œâ”€â”€ usePlayer.ts         # æ’­æ”¾å™¨æ§åˆ¶
â”‚   â”œâ”€â”€ useLyrics.ts         # æ­Œè¯åŒæ­¥
â”‚   â”œâ”€â”€ useChat.ts           # èŠå¤©åŠŸèƒ½
â”‚   â”œâ”€â”€ useRoom.ts           # æˆ¿é—´ç®¡ç†
â”‚   â”œâ”€â”€ useSearch.ts         # æœç´¢åŠŸèƒ½
â”‚   â”œâ”€â”€ useHistory.ts        # æ’­æ”¾å†å²
â”‚   â”œâ”€â”€ useUserSettings.ts   # ç”¨æˆ·è®¾ç½®
â”‚   â”œâ”€â”€ useNotification.ts   # é€šçŸ¥ç³»ç»Ÿ
â”‚   â”œâ”€â”€ useMediaSession.ts   # åª’ä½“ä¼šè¯æ§åˆ¶
â”‚   â”œâ”€â”€ usePWA.ts            # PWA åŠŸèƒ½
â”‚   â”œâ”€â”€ useKeyboardShortcuts.ts  # é”®ç›˜å¿«æ·é”®
â”‚   â”œâ”€â”€ useBackButton.ts     # è¿”å›é”®å¤„ç†
â”‚   â””â”€â”€ usePerformance.ts    # æ€§èƒ½ä¼˜åŒ–
â”œâ”€â”€ types/               # TypeScript ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ utils/               # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ api.ts               # API è¯·æ±‚å°è£…
â”‚   â”œâ”€â”€ config.ts            # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ lrcParser.ts         # æ­Œè¯è§£æ
â”‚   â”œâ”€â”€ mobile.ts            # ç§»åŠ¨ç«¯å·¥å…·
â”‚   â”œâ”€â”€ time.ts              # æ—¶é—´æ ¼å¼åŒ–
â”‚   â””â”€â”€ user.ts              # ç”¨æˆ·å¤„ç†
â”œâ”€â”€ styles/              # æ ·å¼æ–‡ä»¶
â”œâ”€â”€ App.vue              # æ ¹ç»„ä»¶
â”œâ”€â”€ main.ts              # å…¥å£æ–‡ä»¶
â””â”€â”€ style.css            # å…¨å±€æ ·å¼
```

---

## ğŸ¨ UI è®¾è®¡è§„èŒƒ

### è®¾è®¡é£æ ¼

- **Glass UI** - æ¯›ç»ç’ƒæ•ˆæœå’ŒåŠé€æ˜èƒŒæ™¯
- **åœ†è§’è®¾è®¡** - å¤§åœ†è§’å¡ç‰‡å’ŒæŒ‰é’®
- **æ¸å˜è‰²å½©** - ç´«è‰²/é›è“è‰²æ¸å˜ä½œä¸ºå¼ºè°ƒè‰²
- **æ·±è‰²ä¸»é¢˜** - æ·±ç°åˆ°é»‘è‰²çš„èƒŒæ™¯æ¸å˜

### é…è‰²æ–¹æ¡ˆ

| ç”¨é€” | é¢œè‰² |
|------|------|
| ä¸»å¼ºè°ƒè‰² | Purple (`purple-500`, `purple-600`) |
| æ¬¡å¼ºè°ƒè‰² | Indigo (`indigo-400`, `indigo-500`) |
| èƒŒæ™¯è‰² | Gray-900 â†’ Black æ¸å˜ |
| ç»ç’ƒæ•ˆæœ | 5% ç™½è‰²èƒŒæ™¯ + 20px æ¨¡ç³Š |
| æ–‡å­—ä¸»è‰² | White |
| æ–‡å­—æ¬¡è‰² | White/60, White/40 |

### å“åº”å¼å¸ƒå±€

**æ¡Œé¢ç«¯ (md+)**
- åŒæ å¸ƒå±€ï¼šå·¦ä¾§æ­Œè¯ + å³ä¾§å¯åˆ‡æ¢é¢æ¿
- å³ä¾§é¢æ¿å®½åº¦ï¼š560px
- æ’­æ”¾æ§åˆ¶æ åœ¨æ­Œè¯åŒºä¸‹æ–¹

**ç§»åŠ¨ç«¯**
- ä¸‰é¢æ¿æ»‘åŠ¨å¸ƒå±€ï¼ˆæ’­æ”¾/åˆ—è¡¨/èŠå¤©ï¼‰
- åº•éƒ¨æµ®åŠ¨å¯¼èˆªæ ï¼ˆåœ†è§’èƒ¶å›Šè®¾è®¡ï¼‰
- è§¦æ‘¸ä¼˜åŒ–çš„äº¤äº’å…ƒç´ 

---

## ğŸ“¦ æ ¸å¿ƒæ¨¡å—è¯´æ˜

### 1. WebSocket é€šä¿¡ (`useWebSocket`)
å¤„ç†ä¸æœåŠ¡å™¨çš„å®æ—¶é€šä¿¡ï¼ŒåŒ…æ‹¬ï¼š
- è¿æ¥å»ºç«‹å’Œæ–­çº¿é‡è¿
- æ¶ˆæ¯æ”¶å‘
- å¿ƒè·³ä¿æ´»

### 2. æ’­æ”¾å™¨æ§åˆ¶ (`usePlayer`)
ç®¡ç†éŸ³é¢‘æ’­æ”¾çŠ¶æ€ï¼š
- æ’­æ”¾/æš‚åœæ§åˆ¶
- è¿›åº¦ç®¡ç†
- æ’­æ”¾åˆ—è¡¨ç®¡ç†
- åˆ‡æ­ŒåŠŸèƒ½

### 3. æ­Œè¯åŒæ­¥ (`useLyrics`)
å®ç°æ­Œè¯ä¸éŸ³ä¹çš„åŒæ­¥ï¼š
- LRC æ­Œè¯è§£æ
- å½“å‰è¡Œé«˜äº®
- è‡ªåŠ¨æ»šåŠ¨å®šä½

### 4. èŠå¤©åŠŸèƒ½ (`useChat`)
æˆ¿é—´å†…å®æ—¶èŠå¤©ï¼š
- æ¶ˆæ¯æ”¶å‘
- åœ¨çº¿ç”¨æˆ·åˆ—è¡¨
- æ¶ˆæ¯æ—¶é—´æ˜¾ç¤º

### 5. æœç´¢åŠŸèƒ½ (`useSearch`)
æ­Œæ›²æœç´¢å’Œç‚¹æ­Œï¼š
- å…³é”®è¯æœç´¢
- æ­Œå•æœç´¢
- æ·»åŠ åˆ°æ’­æ”¾åˆ—è¡¨

---

## âœ… TODO åˆ—è¡¨

### é«˜ä¼˜å…ˆçº§
- [ ] ä¸»é¢˜åˆ‡æ¢ï¼ˆæ˜/æš—ä¸»é¢˜ï¼‰
- [ ] UI ä¸€è‡´æ€§

### ä¸­ä¼˜å…ˆçº§
- [ ] ç§»åŠ¨ç«¯æ‰‹åŠ¿ä¼˜åŒ–ï¼ˆæ»‘åŠ¨æƒ¯æ€§æ•ˆæœï¼‰
- [ ] éŸ³é¢‘å¯è§†åŒ–æ•ˆæœ

### ä½ä¼˜å…ˆçº§
- [ ] å¤šè¯­è¨€å›½é™…åŒ–æ”¯æŒ
- [ ] è‡ªå®šä¹‰ä¸»é¢˜è‰²å½©
- [ ] æ­Œè¯å­—ä½“å¤§å°è°ƒæ•´
- [ ] æ’­æ”¾å†å²å¯¼å‡º

### å·²å®Œæˆ âœ“
- [x] Glass UI é£æ ¼é‡æ„
- [x] æ¡Œé¢ç«¯åŒæ å¸ƒå±€
- [x] ç§»åŠ¨ç«¯æ»‘åŠ¨é¢æ¿
- [x] åº•éƒ¨æµ®åŠ¨å¯¼èˆªæ 
- [x] åœ¨çº¿ç”¨æˆ·å¼¹çª—
- [x] éŸ³é‡æ§åˆ¶å¼¹çª—
- [x] æ“ä½œæŒ‰é’®ç»Ÿä¸€å¸ƒå±€
- [x] ç§»åŠ¨ç«¯åˆ‡æ­ŒæŒ‰é’®
- [x] æˆ¿é—´åˆ›å»ºå’Œç®¡ç†

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–
```bash
npm install
```

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```bash
npm run dev
```

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬
```bash
npm run build
```

### ä»£ç æ£€æŸ¥
```bash
npm run lint
npm run lint:fix
```

### ç±»å‹æ£€æŸ¥
```bash
npm run type-check
```

---

## ğŸ§‘â€ğŸ’» å¼€å‘æŒ‡å—

### 0. ç¯å¢ƒè¦æ±‚

- Node.jsï¼šå»ºè®® `>= 18`ï¼ˆVite 5 + ç°ä»£ ESMï¼‰
- åŒ…ç®¡ç†å™¨ï¼š`npm`ï¼ˆä»“åº“è„šæœ¬ä»¥ npm ä¸ºå‡†ï¼‰
- æ¨è IDEï¼šVS Codeï¼ˆå»ºè®®å¯ç”¨ ESLintã€TailwindCSS IntelliSenseï¼‰

### 1. å®‰è£…ä¸å¯åŠ¨

```bash
npm install
npm run dev
```

å¸¸è§å…¥å£æ–‡ä»¶ï¼š

- `src/main.ts`ï¼šåº”ç”¨å¯åŠ¨ã€æŒ‚è½½
- `src/App.vue`ï¼šæ ¹ç»„ä»¶
- `src/components/layout/MainLayout.vue`ï¼šä¸»å¸ƒå±€ï¼ˆæ¡Œé¢ç«¯ + ç§»åŠ¨ç«¯ï¼‰

### 2. å¸¸ç”¨å‘½ä»¤è¯´æ˜

- `npm run dev`ï¼šå¯åŠ¨å¼€å‘æœåŠ¡å™¨
- `npm run build`ï¼šç”Ÿäº§æ„å»º
- `npm run preview`ï¼šæœ¬åœ°é¢„è§ˆæ„å»ºäº§ç‰©
- `npm run type-check`ï¼šç±»å‹æ£€æŸ¥ï¼ˆ`vue-tsc --noEmit`ï¼‰
- `npm run lint` / `npm run lint:fix`ï¼šä»£ç æ£€æŸ¥ / è‡ªåŠ¨ä¿®å¤

### 3. å¼€å‘æµç¨‹å»ºè®®

1. æ–°åŠŸèƒ½ä¼˜å…ˆæ”¾åœ¨ `src/components/` ä¸ `src/composables/`ï¼Œé¿å…æŠŠä¸šåŠ¡é€»è¾‘å†™è¿›å¤§é‡ UI ç»„ä»¶é‡Œ
2. ä¸åç«¯/å®æ—¶åŒæ­¥ç›¸å…³ï¼šä¼˜å…ˆåœ¨ `useWebSocket`ã€`useRoom`ã€`usePlayer` ä¸­æ‰©å±•ï¼Œç»„ä»¶åªè®¢é˜…çŠ¶æ€ä¸è§¦å‘åŠ¨ä½œ
3. æäº¤å‰è·‘ä¸€éï¼š

```bash
npm run type-check
npm run lint
```

### 4. UI çº¦å®šï¼ˆç´«è‰²å¼ºè°ƒï¼‰

- å¼ºè°ƒè‰²ç»Ÿä¸€ç”¨ç´«è‰²ç³»ï¼ˆä¾‹å¦‚ `purple-500`/`purple-600`ï¼‰ï¼Œå¹¶å°½é‡ä¸ç°æœ‰äº¤äº’ä¿æŒä¸€è‡´
- äº¤äº’æ€ï¼ˆactive/é€‰ä¸­ï¼‰æ ·å¼å‚è€ƒç°æœ‰ `.play-mode-option.active`ã€`.radio-indicator.active` çš„è¡¨ç°
- Tailwind ä¼˜å…ˆï¼›é‡åˆ°å¤æ‚åŠ¨ç”»/æ€§èƒ½æ•æ„Ÿæ ·å¼å†è½åˆ° `scoped CSS` æˆ– `src/styles/`

### 5. å¸¸è§é—®é¢˜æ’æŸ¥

- ä¾èµ–å¼‚å¸¸ï¼šåˆ é™¤ `node_modules` ä¸é”æ–‡ä»¶åé‡è£…ï¼ˆæ³¨æ„å›¢é˜Ÿçº¦å®šé”æ–‡ä»¶ç±»å‹ï¼‰
- ç«¯å£å ç”¨ï¼šVite é»˜è®¤ 5173ï¼Œå¯æ¢ç«¯å£å¯åŠ¨ï¼š`npm run dev -- --port 5174`
- Lint/æ ¼å¼åŒ–å†²çªï¼šæœ¬é¡¹ç›®ä½¿ç”¨ ESLintï¼ˆå« `@antfu/eslint-config`ï¼‰ï¼›é¿å…åŒæ—¶å¯ç”¨ä¼šæ”¹å†™é£æ ¼çš„å…¶å®ƒæ ¼å¼åŒ–å·¥å…·è§„åˆ™

---

## ğŸ“ å¼€å‘è§„èŒƒ

### ä»£ç é£æ ¼
- ä½¿ç”¨ ESLint + @antfu/eslint-config
- æäº¤å‰è‡ªåŠ¨ lint (husky + lint-staged)

### ç»„ä»¶å‘½å
- ç»„ä»¶æ–‡ä»¶ä½¿ç”¨ PascalCase
- ç»„åˆå¼å‡½æ•°ä½¿ç”¨ `use` å‰ç¼€

### æ ·å¼è§„èŒƒ
- ä¼˜å…ˆä½¿ç”¨ TailwindCSS ç±»å
- å¤æ‚æ ·å¼ä½¿ç”¨ scoped CSS
- å¼ºè°ƒè‰²ç»Ÿä¸€ä½¿ç”¨ç´«è‰²ç³»

### Git æäº¤è§„èŒƒ
```
feat: æ–°åŠŸèƒ½
fix: ä¿®å¤é—®é¢˜
docs: æ–‡æ¡£æ›´æ–°
style: æ ·å¼è°ƒæ•´
refactor: ä»£ç é‡æ„
perf: æ€§èƒ½ä¼˜åŒ–
```

---

## ğŸ“„ è®¸å¯è¯

MIT License

---

*æœ€åæ›´æ–°ï¼š2026å¹´1æœˆ26æ—¥*
